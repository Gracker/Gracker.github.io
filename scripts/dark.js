/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!************************!*\
  !*** ./src/js/dark.js ***!
  \************************/
var $themeModeSwitchBtn = $('.header-theme-btn'); // 获取用户偏好的主题颜色模式

var getPreferredThemeMode = function getPreferredThemeMode() {
  var preferredThemeMode = localStorage.preferredThemeMode;

  if (!preferredThemeMode) {
    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式
    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    localStorage.preferredThemeMode = preferredThemeMode;
  } else {
    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light';
  }

  return preferredThemeMode;
}; // 设置切换主题按钮可点击


var setThemeModeSwitchBtnActive = function setThemeModeSwitchBtnActive(active) {
  if (active) {
    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled');
  } else {
    $themeModeSwitchBtn.addClass('header-theme-btn-disabled');
  }
}; // 切换主题颜色模式


var switchThemeMode = function switchThemeMode(root) {
  setThemeModeSwitchBtnActive(false);
  var $darkModeSourceLink = $("LINK[href='".concat(root, "css/dark.css']"));

  if ($darkModeSourceLink.length === 1) {
    $darkModeSourceLink.remove();
    localStorage.preferredThemeMode = 'light';
  } else {
    $('<link>').attr({
      rel: 'stylesheet',
      type: 'text/css',
      href: "".concat(root, "css/dark.css")
    }).appendTo('head');
    localStorage.preferredThemeMode = 'dark';
  }

  setThemeModeSwitchBtnActive(true);
}; // 初始化切换主题颜色模式功能


var initThemeModeSwitchButton = function initThemeModeSwitchButton() {
  setThemeModeSwitchBtnActive(false); // 默认情况下，加载暗色主题
  // 若用户偏好浅色主题，则切换主题颜色模式

  if (getPreferredThemeMode() === 'light') {
    switchThemeMode(window.siteMeta.root);
  }

  $themeModeSwitchBtn.click(function () {
    switchThemeMode(window.siteMeta.root);
  });
  setThemeModeSwitchBtnActive(true);
};

initThemeModeSwitchButton();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFyay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLG1CQUFtQixHQUFHQyxDQUFDLENBQUMsbUJBQUQsQ0FBN0IsRUFFQTs7QUFDQSxJQUFNQyxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXdCLEdBQVk7QUFDeEMsTUFBSUMsa0JBQWtCLEdBQUdDLFlBQVksQ0FBQ0Qsa0JBQXRDOztBQUNBLE1BQUksQ0FBQ0Esa0JBQUwsRUFBeUI7QUFDdkI7QUFDQUEsSUFBQUEsa0JBQWtCLEdBQUdFLE1BQU0sQ0FBQ0MsVUFBUCxDQUFrQiw4QkFBbEIsRUFDbEJDLE9BRGtCLEdBRWpCLE1BRmlCLEdBR2pCLE9BSEo7QUFJQUgsSUFBQUEsWUFBWSxDQUFDRCxrQkFBYixHQUFrQ0Esa0JBQWxDO0FBQ0QsR0FQRCxNQU9PO0FBQ0xBLElBQUFBLGtCQUFrQixHQUFHQSxrQkFBa0IsS0FBSyxNQUF2QixHQUFnQyxNQUFoQyxHQUF5QyxPQUE5RDtBQUNEOztBQUNELFNBQU9BLGtCQUFQO0FBQ0QsQ0FiRCxFQWVBOzs7QUFDQSxJQUFNSywyQkFBMkIsR0FBRyxTQUE5QkEsMkJBQThCLENBQUNDLE1BQUQsRUFBWTtBQUM5QyxNQUFJQSxNQUFKLEVBQVk7QUFDVlQsSUFBQUEsbUJBQW1CLENBQUNVLFdBQXBCLENBQWdDLDJCQUFoQztBQUNELEdBRkQsTUFFTztBQUNMVixJQUFBQSxtQkFBbUIsQ0FBQ1csUUFBcEIsQ0FBNkIsMkJBQTdCO0FBQ0Q7QUFDRixDQU5ELEVBUUE7OztBQUNBLElBQU1DLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsQ0FBVUMsSUFBVixFQUFnQjtBQUN0Q0wsRUFBQUEsMkJBQTJCLENBQUMsS0FBRCxDQUEzQjtBQUNBLE1BQU1NLG1CQUFtQixHQUFHYixDQUFDLHNCQUFlWSxJQUFmLG9CQUE3Qjs7QUFDQSxNQUFJQyxtQkFBbUIsQ0FBQ0MsTUFBcEIsS0FBK0IsQ0FBbkMsRUFBc0M7QUFDcENELElBQUFBLG1CQUFtQixDQUFDRSxNQUFwQjtBQUNBWixJQUFBQSxZQUFZLENBQUNELGtCQUFiLEdBQWtDLE9BQWxDO0FBQ0QsR0FIRCxNQUdPO0FBQ0xGLElBQUFBLENBQUMsQ0FBQyxRQUFELENBQUQsQ0FDR2dCLElBREgsQ0FDUTtBQUNKQyxNQUFBQSxHQUFHLEVBQUUsWUFERDtBQUVKQyxNQUFBQSxJQUFJLEVBQUUsVUFGRjtBQUdKQyxNQUFBQSxJQUFJLFlBQUtQLElBQUw7QUFIQSxLQURSLEVBTUdRLFFBTkgsQ0FNWSxNQU5aO0FBT0FqQixJQUFBQSxZQUFZLENBQUNELGtCQUFiLEdBQWtDLE1BQWxDO0FBQ0Q7O0FBQ0RLLEVBQUFBLDJCQUEyQixDQUFDLElBQUQsQ0FBM0I7QUFDRCxDQWpCRCxFQW1CQTs7O0FBQ0EsSUFBTWMseUJBQXlCLEdBQUcsU0FBNUJBLHlCQUE0QixHQUFZO0FBQzVDZCxFQUFBQSwyQkFBMkIsQ0FBQyxLQUFELENBQTNCLENBRDRDLENBRzVDO0FBQ0E7O0FBQ0EsTUFBSU4scUJBQXFCLE9BQU8sT0FBaEMsRUFBeUM7QUFDdkNVLElBQUFBLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDa0IsUUFBUCxDQUFnQlYsSUFBakIsQ0FBZjtBQUNEOztBQUVEYixFQUFBQSxtQkFBbUIsQ0FBQ3dCLEtBQXBCLENBQTBCLFlBQVk7QUFDcENaLElBQUFBLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDa0IsUUFBUCxDQUFnQlYsSUFBakIsQ0FBZjtBQUNELEdBRkQ7QUFJQUwsRUFBQUEsMkJBQTJCLENBQUMsSUFBRCxDQUEzQjtBQUNELENBZEQ7O0FBZ0JBYyx5QkFBeUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2hleG8tdGhlbWUtYXJjaGVyLy4vc3JjL2pzL2RhcmsuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgJHRoZW1lTW9kZVN3aXRjaEJ0biA9ICQoJy5oZWFkZXItdGhlbWUtYnRuJylcblxuLy8g6I635Y+W55So5oi35YGP5aW955qE5Li76aKY6aKc6Imy5qih5byPXG5jb25zdCBnZXRQcmVmZXJyZWRUaGVtZU1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwcmVmZXJyZWRUaGVtZU1vZGUgPSBsb2NhbFN0b3JhZ2UucHJlZmVycmVkVGhlbWVNb2RlXG4gIGlmICghcHJlZmVycmVkVGhlbWVNb2RlKSB7XG4gICAgLy8g6aaW5qyh6K6/6Zeu5pe277yM6K6+572u55So5oi35YGP5aW95Li76aKY6aKc6Imy5qih5byP5Li657O757uf5YGP5aW95Li76aKY6aKc6Imy5qih5byPXG4gICAgcHJlZmVycmVkVGhlbWVNb2RlID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKVxuICAgICAgLm1hdGNoZXNcbiAgICAgID8gJ2RhcmsnXG4gICAgICA6ICdsaWdodCdcbiAgICBsb2NhbFN0b3JhZ2UucHJlZmVycmVkVGhlbWVNb2RlID0gcHJlZmVycmVkVGhlbWVNb2RlXG4gIH0gZWxzZSB7XG4gICAgcHJlZmVycmVkVGhlbWVNb2RlID0gcHJlZmVycmVkVGhlbWVNb2RlID09PSAnZGFyaycgPyAnZGFyaycgOiAnbGlnaHQnXG4gIH1cbiAgcmV0dXJuIHByZWZlcnJlZFRoZW1lTW9kZVxufVxuXG4vLyDorr7nva7liIfmjaLkuLvpopjmjInpkq7lj6/ngrnlh7tcbmNvbnN0IHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZSA9IChhY3RpdmUpID0+IHtcbiAgaWYgKGFjdGl2ZSkge1xuICAgICR0aGVtZU1vZGVTd2l0Y2hCdG4ucmVtb3ZlQ2xhc3MoJ2hlYWRlci10aGVtZS1idG4tZGlzYWJsZWQnKVxuICB9IGVsc2Uge1xuICAgICR0aGVtZU1vZGVTd2l0Y2hCdG4uYWRkQ2xhc3MoJ2hlYWRlci10aGVtZS1idG4tZGlzYWJsZWQnKVxuICB9XG59XG5cbi8vIOWIh+aNouS4u+mimOminOiJsuaooeW8j1xuY29uc3Qgc3dpdGNoVGhlbWVNb2RlID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgc2V0VGhlbWVNb2RlU3dpdGNoQnRuQWN0aXZlKGZhbHNlKVxuICBjb25zdCAkZGFya01vZGVTb3VyY2VMaW5rID0gJChgTElOS1tocmVmPScke3Jvb3R9Y3NzL2RhcmsuY3NzJ11gKVxuICBpZiAoJGRhcmtNb2RlU291cmNlTGluay5sZW5ndGggPT09IDEpIHtcbiAgICAkZGFya01vZGVTb3VyY2VMaW5rLnJlbW92ZSgpXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9ICdsaWdodCdcbiAgfSBlbHNlIHtcbiAgICAkKCc8bGluaz4nKVxuICAgICAgLmF0dHIoe1xuICAgICAgICByZWw6ICdzdHlsZXNoZWV0JyxcbiAgICAgICAgdHlwZTogJ3RleHQvY3NzJyxcbiAgICAgICAgaHJlZjogYCR7cm9vdH1jc3MvZGFyay5jc3NgLFxuICAgICAgfSlcbiAgICAgIC5hcHBlbmRUbygnaGVhZCcpXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9ICdkYXJrJ1xuICB9XG4gIHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZSh0cnVlKVxufVxuXG4vLyDliJ3lp4vljJbliIfmjaLkuLvpopjpopzoibLmqKHlvI/lip/og71cbmNvbnN0IGluaXRUaGVtZU1vZGVTd2l0Y2hCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gIHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZShmYWxzZSlcblxuICAvLyDpu5jorqTmg4XlhrXkuIvvvIzliqDovb3mmpfoibLkuLvpophcbiAgLy8g6Iul55So5oi35YGP5aW95rWF6Imy5Li76aKY77yM5YiZ5YiH5o2i5Li76aKY6aKc6Imy5qih5byPXG4gIGlmIChnZXRQcmVmZXJyZWRUaGVtZU1vZGUoKSA9PT0gJ2xpZ2h0Jykge1xuICAgIHN3aXRjaFRoZW1lTW9kZSh3aW5kb3cuc2l0ZU1ldGEucm9vdClcbiAgfVxuXG4gICR0aGVtZU1vZGVTd2l0Y2hCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHN3aXRjaFRoZW1lTW9kZSh3aW5kb3cuc2l0ZU1ldGEucm9vdClcbiAgfSlcblxuICBzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUodHJ1ZSlcbn1cblxuaW5pdFRoZW1lTW9kZVN3aXRjaEJ1dHRvbigpXG4iXSwibmFtZXMiOlsiJHRoZW1lTW9kZVN3aXRjaEJ0biIsIiQiLCJnZXRQcmVmZXJyZWRUaGVtZU1vZGUiLCJwcmVmZXJyZWRUaGVtZU1vZGUiLCJsb2NhbFN0b3JhZ2UiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZSIsImFjdGl2ZSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzd2l0Y2hUaGVtZU1vZGUiLCJyb290IiwiJGRhcmtNb2RlU291cmNlTGluayIsImxlbmd0aCIsInJlbW92ZSIsImF0dHIiLCJyZWwiLCJ0eXBlIiwiaHJlZiIsImFwcGVuZFRvIiwiaW5pdFRoZW1lTW9kZVN3aXRjaEJ1dHRvbiIsInNpdGVNZXRhIiwiY2xpY2siXSwic291cmNlUm9vdCI6IiJ9